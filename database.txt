
-- Create the tables
CREATE TABLE Student (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(250),
    Class VARCHAR(250),
    birthDay DATE,
    Address VARCHAR(250),
    Phone VARCHAR(10)
);

CREATE TABLE UserManagement (
    UserID INT AUTO_INCREMENT PRIMARY KEY,
    UserName VARCHAR(250),
    Password VARCHAR(255), -- Assuming you're storing hashed passwords
    ProfilePicture MEDIUMTEXT,
    Age INT,
    PhoneNumber VARCHAR(10),
    Status INT CHECK (Status IN (0, 1)), -- 0: Normal, 1: Blocked
    UserRole INT CHECK (UserRole IN (0, 1, 2)) -- 0: Admin, 1: Manager, 2: Employee
);

CREATE TABLE LoginHistory (
    LoginHistoryID INT AUTO_INCREMENT PRIMARY KEY,
    UserID INT,
    TimeLogin DATETIME,
    CONSTRAINT FK_LoginHistory_UserID FOREIGN KEY (UserID)
    REFERENCES UserManagement(UserID) ON DELETE CASCADE
);

CREATE TABLE CertificateManagement (
    CertificateID INT AUTO_INCREMENT PRIMARY KEY,
    StudentID INT,
    FOREIGN KEY (StudentID) REFERENCES Student(ID) ON DELETE CASCADE,
    CertificateName VARCHAR(250),
    IssueDate DATE,
    ExpiryDate DATE,
    Grade FLOAT 
);
    